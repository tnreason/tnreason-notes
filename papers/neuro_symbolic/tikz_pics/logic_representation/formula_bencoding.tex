\begin{tikzpicture}[scale=0.35, thick] % , baseline = -3.5pt

    \draw[->-] (2,-1)--(2,1) node[midway,right] {\colorlabelsize $\formulavar$};
    \draw (-1,-1) rectangle (5,-3);
    \node[anchor=center] (text) at (2,-2) {\corelabelsize $\bencodingof{\exformula}$};
    \draw[-<-] (0,-3)--(0,-5) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
    \draw[-<-] (1.5,-3)--(1.5,-5) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
    \node[anchor=center] (text) at (3,-4) {$\cdots$};
    \draw[-<-] (4,-3)--(4,-5) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};


    \node[anchor=center] (text) at (7,-2) {${=}$};

    \node[anchor=center] (text) at (10,-2.5) {${\sum\limits_{\shortcatindices\in\atomstates}}$};

    \begin{scope}
    [shift={(15.5,-0.5)}]

        \draw (-2,1) rectangle (4,-1);
        \node[anchor=center] (text) at (1,0) {\corelabelsize $\onehotmapof{\exformulaat{\indexedshortcatvariables}}$};
        \draw[->-] (1,1)--(1,2.5) node[midway,right] {\colorlabelsize $\formulavar$};

        \draw (-2,-2) rectangle (4,-4);
        \node[anchor=center] (text) at (1,-3) {\corelabelsize $\onehotmapof{\shortcatindices}$};

        \draw[->-] (-1.5,-4)--(-1.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
        \draw[->-] (0.5,-4)--(0.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
        \node[anchor=center] (text) at (2,-5) {$\cdots$};
        \draw[->-] (3.5,-4)--(3.5,-5.5) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};

    \end{scope}

    \node[anchor=center] (text) at (21.25,-2) {${=}$};

    \begin{scope} [shift={(25.5,-0.5)}]

        \draw (-2,1) rectangle (4,-1);
        \node[anchor=center] (text) at (1,0) {\corelabelsize $\onehotmapof{0}$};
        \draw[->-] (1,1)--(1,2.5) node[midway,right] {\colorlabelsize $\formulavar$};

        \draw (-2,-2) rectangle (4,-4);
        \node[anchor=center] (text) at (1,-3) {\corelabelsize $\lnot\formula$};%$\sum_{\shortcatindices \wcols \formula(\shortcatindices)=0}\onehotmapof{\shortcatindices}$};

        \draw[] (-1.5,-4)--(-1.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
        \draw[] (0.5,-4)--(0.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
        \node[anchor=center] (text) at (2,-5) {$\cdots$};
        \draw[] (3.5,-4)--(3.5,-5.5) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};

    \end{scope}


    \node[anchor=center] (text) at (31.25,-2) {${+}$};

    \begin{scope} [shift={(35.5,-0.5)}]

        \draw (-2,1) rectangle (4,-1);
        \node[anchor=center] (text) at (1,0) {\corelabelsize $\onehotmapof{1}$};
        \draw[->-] (1,1)--(1,2.5) node[midway,right] {\colorlabelsize $\formulavar$};

        \draw (-2,-2) rectangle (4,-4);
        \node[anchor=center] (text) at (1,-3) {\corelabelsize $\formula$};%$\sum_{\shortcatindices \wcols \formula(\shortcatindices)=1}\onehotmapof{\shortcatindices}$};

        \draw[] (-1.5,-4)--(-1.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
        \draw[] (0.5,-4)--(0.5,-5.5) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
        \node[anchor=center] (text) at (2,-5) {$\cdots$};
        \draw[] (3.5,-4)--(3.5,-5.5) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};

    \end{scope}

\end{tikzpicture}