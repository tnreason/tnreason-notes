\section{Walsh-Hadamard transform}\label{sec:walshHadamardTransform}

The application of Hadamard gates on the distributed variables afterwards results in a Walsh-Hadamard transform of the prepared state.

\subsection{Transformation tensor}

The transform is performed by applying Hadamard gates on each variable.
This is equivalent with contraction of the tensor
\begin{align*}
    \hgate^{\catorder}\left[\catvariableof{[\catorder],\insymbol},\catvariableof{[\catorder],\outsymbol}\right] =
    \bigotimes_{\catenumeratorin} \hgateat{\ccatvariableof{\catenumerator}{\insymbol},\ccatvariableof{\catenumerator}{\outsymbol}} \, ,
\end{align*}
which coordinates are
\begin{align*}
    \hgate^{\catorder}\left[\indexedcatvariableof{[\catorder],\insymbol},\indexedcatvariableof{[\catorder],\outsymbol}\right] =
    \sqrt{\frac{1}{2^{\catorder}}} \left(-1\right)^{\sum_{\catenumeratorin}\catindexof{\catenumerator,\insymbol} \cdot \catindexof{\catenumerator,\outsymbol}} \, .
\end{align*}

We have
\begin{align*}
    \contractionof{\onehotmapofat{0}{\ccatvariable{\insymbol}},
        \hgateat{\ccatvariable{\insymbol},\ccatvariable{\outsymbol}}}{\ccatvariable{\outsymbol}}
    &= \sqrt{\frac{1}{2}} \onesat{\ccatvariable{\outsymbol}} \\
    \contractionof{\onehotmapofat{1}{\ccatvariable{\insymbol}},
        \hgateat{\ccatvariable{\insymbol},\ccatvariable{\outsymbol}}}{\ccatvariable{\outsymbol}}
    &= \sqrt{\frac{1}{2}}
    \begin{bmatrix}
        1 \\
        -1
    \end{bmatrix}\left[\ccatvariable{\outsymbol}\right]
\end{align*}
and conversely
\begin{align*}
    \contractionof{\sqrt{\frac{1}{2}} \onesat{\ccatvariable{\insymbol}},
        \hgateat{\ccatvariable{\insymbol},\ccatvariable{\outsymbol}}}{\ccatvariable{\outsymbol}}
    &= \onehotmapofat{0}{\ccatvariable{\outsymbol}} \\
    \contractionof{\sqrt{\frac{1}{2}}
        \begin{bmatrix}
            1 \\
            -1
        \end{bmatrix}\left[\ccatvariable{\insymbol}\right],
        \hgateat{\ccatvariable{\insymbol},\ccatvariable{\outsymbol}}}{\ccatvariable{\outsymbol}}
    &= \onehotmapofat{1}{\ccatvariable{\outsymbol}} \, .
\end{align*}
If and only if the function is constant, then the transformed state is the ground state.

