\begin{tikzpicture}[scale=0.35,thick] % , baseline = -3.5pt

\begin{scope}[shift={(-25,-4)}]
	\node[anchor=center] (text) at (0,7) {${a)}$};

	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (T1) at (0,0) {\colorlabelsize $\catvariableof{0}$};
	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (T2) at (3,0) {\colorlabelsize $\catvariableof{1}$};
	\node[anchor=center] (text) at (6,0) {${\cdots}$};
	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (T3) at (9,0) {};
	\node[anchor=center] (text) at (9,0) {\colorlabelsize $\catvariableof{\atomorder-1}$};
	



	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (S2) at (6,6) {};
	\node[anchor=center] (text) at (6,6) {\colorlabelsize $\headvariableof{\fselectionmap}$};
	
	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (T4) at (12,6) {};
	\node[anchor=center] (text) at (12,6) {\colorlabelsize $\selvariableof{\selorder-1}$};
	
	%\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (S) at (6,3) {};
	\node[anchor=center] (text) at (12,3.5) {$\vdots$};
	
	\node [circle, draw, thick, fill=\nodegrayscale, minimum size = \nodeminsize] (T5) at (12,1) {};
	\node[anchor=center] (text) at (12,1) {\colorlabelsize $\selvariableof{0}$};
	
	\coordinate (S) at (6,2.5);
	\draw[->-] (S) -- (S2);
	
	\draw[->-] (T1) -- (S);
	\draw[->-] (T2) -- (S);
	\draw[->-] (T3) -- (S);
	\draw[->-] (T4) -- (S);
	\draw[->-] (T5) -- (S);
	
\end{scope}



\node[anchor=center] (text) at (-3,3) {${b)}$};


\drawatomindices{0}{-4}
\draw (-1,3) rectangle (5, -3);
\node[anchor=center] (text) at (2,0) {$\bsencodingof{\fselectionmap}$};

\draw[->-] (2,3)--(2,5) node[midway,right] {\colorlabelsize $\headvariableof{\fselectionmap}$};

\draw[-<-] (5,-2)--(7,-2) node[midway,below] {\colorlabelsize $\selvariableof{0}$};
\draw[-<-] (5,-0.5)--(7,-0.5) node[midway,below] {\colorlabelsize $\selvariableof{1}$};
\node[anchor=center] (text) at (6,0.75) {$\vdots$};
\draw[-<-] (5,2)--(7,2) node[midway,above] {\colorlabelsize $\selvariableof{\selorder\shortminus1}$};


%\draw (7,3) rectangle (9, -3);
%\node[anchor=center] (text) at (8,0) {$\canparam$};


\end{tikzpicture}