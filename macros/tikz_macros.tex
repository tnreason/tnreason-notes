\newcommand{\threecolumnwidth}{4.3cm}
\newcommand{\fivecolumnwidth}{2cm}
\newcommand{\fourcolumnwidth}{3cm}
\newcommand{\rowheight}{12pt}

\newcommand{\dotsize}{0.15cm}
\newcommand{\nodeminsize}{0.8cm}
\newcommand{\nodegrayscale}{gray!50}
\newcommand{\colorlabelsize}{\tiny}
\newcommand{\corelabelsize}{\small}

\newcommand{\skeletoncolor}{blue}
\newcommand{\probcolor}{purple!60}
\newcommand{\concolor}{cyan}%{teal}
\newcommand{\conjunctioncolor}{red}
\newcommand{\negationcolor}{blue}

\newcommand{\newmessagecolor}{blue}
\newcommand{\oldmessagecolor}{gray}


\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes,positioning}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{calc}
\usetikzlibrary{matrix}

\tikzset{
    midarrow/.style={
        postaction={decorate},
        decoration={markings, mark=at position 0.5 with {\arrow{>}}}
    },
    midbackarrow/.style={
        postaction={decorate},
        decoration={markings, mark=at position 0.5 with {\arrow{<}}}
    },
    ->-/.style={midarrow},
    -<-/.style={midbackarrow}
}

\newcommand{\shortminus}{\scalebox{0.4}[1.0]{$-$}}

\newcommand{\drawvariabledot}[2]{
    \draw[fill] (#1,#2) circle (\dotsize);
}

\newcommand{\drawvectormark}[2]{
    \draw[black, line width=0.6pt] (#1,#2) ++(-0.24,0.24) -- ++(0.48,-0.48);
    \draw[black, line width=0.6pt] (#1,#2) ++(-0.24,-0.24) -- ++(0.48,0.48);
}

\newcommand{\drawcnotsymbol}[2]{
    \draw (#1,#2) circle (1);
    \draw ($(#1,#2)+(-1,0)$) -- ($(#1,#2)+(1,0)$);
    \draw ($(#1,#2)+(0,-1)$) -- ($(#1,#2)+(0,1)$);
}

\newcommand{\drawcontroldot}[2]{
    \draw (#1,#2) circle (0.3cm);
    \fill[white] (#1,#2) circle (0.29cm);
}

% Draws indices and below the indices the core
\newcommand{\drawatomindices}[2]{
    \begin{scope}
        [shift={(#1,#2)}]
        \draw[-<-] (0,1)--(0,-1) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
        \draw[-<-] (1.5,1)--(1.5,-1) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
        \node[anchor=center] (text) at (3,0) {$\cdots$};
        \draw[-<-] (4,1)--(4,-1) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};
    \end{scope}
}
\newcommand{\drawundiratomindices}[2]{
    \begin{scope}
        [shift={(#1,#2)}]
        \draw[] (0,1)--(0,-1) node[midway,left] {\colorlabelsize $\catvariableof{0}$};
        \draw[] (1.5,1)--(1.5,-1) node[midway,left] {\colorlabelsize $\catvariableof{1}$};
        \node[anchor=center] (text) at (3,0) {$\cdots$};
        \draw[] (4,1)--(4,-1) node[midway,right] {\colorlabelsize $\catvariableof{\atomorder\shortminus1}$};
    \end{scope}
}

\newcommand{\drawatomcore}[3]{
    \begin{scope}
        [shift={(#1,#2)}]
        \draw (-1,-1) rectangle (5,-3);
        \node[anchor=center] (text) at (2,-2) {#3};
    \end{scope}
}

\newcommand{\drawqcmeasuresymbol}[2]{
    \begin{scope}
        [shift={(#1,#2)},scale=1]
        \draw (-1,-1) rectangle (1,1);
        \draw (-0.8,-0.5) arc[start angle=180, end angle=0, radius=0.8];
        \draw[->] (0,-0.75) -- (-0.5,0.75);
    \end{scope}
}

%\newcommand{\foursudokutable}{|p{3mm}|p{3mm}||p{3mm}|p{3mm}|}
%\newcommand{\sudokucell}{\rule{0pt}{3mm}\rule{3mm}{0pt}}

\newenvironment{sudoku4x4}{%
    % Code executed when you start \begin{sudoku4x4}
    \begin{tikzpicture}[
        sudokucell/.style={
            minimum size=0.6cm,
            draw=gray!50,
            anchor=center
        },
        sudokumatrix/.style={
            matrix of nodes,
            nodes=sudokucell,
            inner sep=0pt,
            row sep=-\pgflinewidth,
            column sep=-\pgflinewidth,
            draw=black,
            very thick,
        }
    ]
}{%
    % Code executed when you finish \end{sudoku4x4}
    \end{tikzpicture}
}