\section{Inversion Test}

\red{The inversion test is checking whether $\basqstateof{\exformula\oplus\secexformula}$ is (parallel to) uniform, using a Walsh-Hadamard transform.}

For two formulas $\exformula,\secexformula$ we have (see \lemref{lem:basQstateOverlap})
\begin{align*}
    \contraction{\basqstateof{\exformula},\basqstateof{\secexformula}}
    = \frac{1}{2^{\atomorder}} \cdot \cardof{\left\{\shortcatindices\in\atomstates \wcols \exformulaat{\indexedshortcatvariables}=\secexformula\left[\indexedshortcatvariables\right]\right\}}
    = \frac{1}{2^{\atomorder}} \cdot \contraction{\exformulaat{\shortcatvariables},\secexformula\left[\shortcatvariables\right]}\, .
\end{align*}

Since we have by the \computationCircuit{} a circuit preparing the basis encoding states $\basqstateof{\exformula}$ and $\basqstateof{\secexformula}$ we can apply the inversion test to investigate their overlap.

\subsection{Inversion Test}

The inversion test is a quantum circuit, being a composition of the basis encoding circuits of two formulas $\exformula,\secexformula$ and their inverses, accompanied by Hadamard gates on all qubits before and after the circuit application.
The probability of measuring the ground state $0,\ldots,0,0$ in a computational basis measurement is then
\begin{align*}
    \frac{1}{2^{2\atomorder}} \cdot \contraction{\exformulaat{\shortcatvariables},\secexformulaat{\shortcatvariables}} \, .
\end{align*}
Further, the probability of measuring the state $0,\ldots,0,1$ is
\begin{align*}
    \frac{1}{2^{2\atomorder}} \cdot \contraction{\exformulaat{\shortcatvariables},\lnot\secexformulaat{\shortcatvariables}} \, .
\end{align*}
In such way, the contraction of two boolean formulas can be estimated by the rate of the ground state in a computational basis measurement.

\subsection{Further Overlap-measuring Circuits}

Quantum Circuits such as the SWAP test and the Hadamard test (\cite[Section 3.6.1]{schuld_machine_2021}) can be used to measure overlaps of quantum states, which are the squared absolutes of contractions of two state tensors.
\begin{itemize}
    \item When we have preparation schemes for two tensors, we can control them with a common ancilla qubit and measure their contraction by a Hadamard test (alternatively, using the SWAP test and state preparation in two registers).
    \item Can we extend these schemes to contractions of more general tensor networks?
\end{itemize}